<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>源码修改记录 | Mr.Zhou</title><meta name="author" content="Mr.Zhou"><meta name="copyright" content="Mr.Zhou"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><meta name="description" content="前言 主题升级至最新版，相较于3.0版本去除了大量修改源码的部分，取而代之使用用户自定义css和js来进行美化，但是美化过程中仍有小部分内容需要修改源码。  本文仅作记录，方便后期主题升级，并非有意搬运内容。  Valine 评论添加 [博主，小伙伴，访客] 标签  打开 [Blogroot]\themes\butterfly\layout\includes\third-party\comment"><meta property="og:type" content="website"><meta property="og:title" content="源码修改记录"><meta property="og:url" content="https://kangkinga.tk/note/index.html"><meta property="og:site_name" content="Mr.Zhou"><meta property="og:description" content="前言 主题升级至最新版，相较于3.0版本去除了大量修改源码的部分，取而代之使用用户自定义css和js来进行美化，但是美化过程中仍有小部分内容需要修改源码。  本文仅作记录，方便后期主题升级，并非有意搬运内容。  Valine 评论添加 [博主，小伙伴，访客] 标签  打开 [Blogroot]\themes\butterfly\layout\includes\third-party\comment"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://npm.elemecdn.com/zhutig/897236.webp"><meta property="article:published_time" content="2021-01-27T04:40:47.000Z"><meta property="article:modified_time" content="2021-01-27T06:08:33.522Z"><meta property="article:author" content="Mr.Zhou"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://npm.elemecdn.com/zhutig/897236.webp"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://kangkinga.tk/note/"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="//fonts.googleapis.com" crossorigin=""><link rel="preconnect" href="//busuanzi.ibruce.info"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload='this.media="all"'><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload='this.media="all"'><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC" media="print" onload='this.media="all"'><script>var GLOBAL_CONFIG={root:"/",algolia:void 0,localSearch:{path:"search.xml",languages:{hits_empty:"找不到您查询的内容：${query}"}},translate:{defaultEncoding:2,translateDelay:0,msgToTraditionalChinese:"繁",msgToSimplifiedChinese:"簡"},noticeOutdate:{limitDay:100,position:"top",messagePrev:"It has been",messageNext:"days since the last update, the content of the article may be outdated."},highlight:{plugin:"highlighjs",highlightCopy:!0,highlightLang:!0},copy:{success:"复制成功",error:"复制错误",noSupport:"浏览器不支持"},relativeDate:{homepage:!1,post:!1},runtime:"天",date_suffix:{just:"刚刚",min:"分钟前",hour:"小时前",day:"天前",month:"个月前"},copyright:void 0,lightbox:"mediumZoom",Snackbar:{chs_to_cht:"你已切换为繁体",cht_to_chs:"你已切换为简体",day_to_night:"你已切换为深色模式",night_to_day:"你已切换为浅色模式",bgLight:"#00c4b6",bgDark:"#121212",position:"top-center"},source:{jQuery:"https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js",justifiedGallery:{js:"https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js",css:"https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css"},fancybox:{js:"https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js",css:"https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"}},isPhotoFigcaption:!1,islazyload:!0,isanchor:!0},saveToLocal={set:function(e,t,s){const a=864e5*s,i={value:t,expiry:(new Date).getTime()+a};localStorage.setItem(e,JSON.stringify(i))},get:function(e){const t=localStorage.getItem(e);if(!t)return;const s=JSON.parse(t);if(!((new Date).getTime()>s.expiry))return s.value;localStorage.removeItem(e)}};const getScript=e=>new Promise((t,s)=>{const a=document.createElement("script");a.src=e,a.async=!0,a.onerror=s,a.onload=a.onreadystatechange=function(){const e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(a.onload=a.onreadystatechange=null,t())},document.head.appendChild(a)})</script><script id="config_change">var GLOBAL_CONFIG_SITE={isPost:!1,isHome:!1,isHighlightShrink:!0,isToc:!1,postUpdate:"2021-01-27 14:08:33"}</script><noscript><style>#nav{opacity:1}.justified-gallery img{opacity:1}#post-meta time,#recent-posts time{display:inline!important}</style></noscript><script>!function(){window.activateDarkMode=function(){document.documentElement.setAttribute("data-theme","dark"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#0d0d0d")},window.activateLightMode=function(){document.documentElement.setAttribute("data-theme","light"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#ffffff")};const e=saveToLocal.get("theme");{const t=(new Date).getHours(),o=t<=6||t>=18;void 0===e?o?activateDarkMode():activateLightMode():"light"===e?activateLightMode():activateDarkMode()}const t=saveToLocal.get("aside-status");void 0!==t&&("hide"===t?document.documentElement.classList.add("hide-aside"):document.documentElement.classList.remove("hide-aside"));const o=saveToLocal.get("global-font-size");void 0!==o&&document.documentElement.style.setProperty("--global-font-size",o+"px")}()</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/l-lin/font-awesome-animation/dist/font-awesome-animation.min.css" media="defer" onload='this.media="all"'><link rel="stylesheet" href="/css/custom.css"><link rel="stylesheet" href="/css/iconfont.css"><link rel="stylesheet" href="/css/universe.css"><svg aria-hidden="true" style="position:absolute;overflow:hidden;width:0;height:0"><symbol id="icon-sun" viewBox="0 0 1024 1024"><path d="M960 512l-128 128v192h-192l-128 128-128-128H192v-192l-128-128 128-128V192h192l128-128 128 128h192v192z" fill="#FFD878" p-id="8420"></path><path d="M736 512a224 224 0 1 0-448 0 224 224 0 1 0 448 0z" fill="#FFE4A9" p-id="8421"></path><path d="M512 109.248 626.752 224H800v173.248L914.752 512 800 626.752V800h-173.248L512 914.752 397.248 800H224v-173.248L109.248 512 224 397.248V224h173.248L512 109.248M512 64l-128 128H192v192l-128 128 128 128v192h192l128 128 128-128h192v-192l128-128-128-128V192h-192l-128-128z" fill="#4D5152" p-id="8422"></path><path d="M512 320c105.888 0 192 86.112 192 192s-86.112 192-192 192-192-86.112-192-192 86.112-192 192-192m0-32a224 224 0 1 0 0 448 224 224 0 0 0 0-448z" fill="#4D5152" p-id="8423"></path></symbol><symbol id="icon-moon" viewBox="0 0 1024 1024"><path d="M611.370667 167.082667a445.013333 445.013333 0 0 1-38.4 161.834666 477.824 477.824 0 0 1-244.736 244.394667 445.141333 445.141333 0 0 1-161.109334 38.058667 85.077333 85.077333 0 0 0-65.066666 135.722666A462.08 462.08 0 1 0 747.093333 102.058667a85.077333 85.077333 0 0 0-135.722666 65.024z" fill="#FFB531" p-id="11345"></path><path d="M329.728 274.133333l35.157333-35.157333a21.333333 21.333333 0 1 0-30.165333-30.165333l-35.157333 35.157333-35.114667-35.157333a21.333333 21.333333 0 0 0-30.165333 30.165333l35.114666 35.157333-35.114666 35.157334a21.333333 21.333333 0 1 0 30.165333 30.165333l35.114667-35.157333 35.157333 35.157333a21.333333 21.333333 0 1 0 30.165333-30.165333z" fill="#030835" p-id="11346"></path></symbol></svg><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-butterfly-clock/lib/clock.min.css"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/font-awesome-animation.min.css" media="defer" onload='this.media="all"'><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/tag_plugins.css" media="defer" onload='this.media="all"'><script src="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/carousel-touch.js"></script><meta name="generator" content="Hexo 5.3.0"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="author-avatar"><img class="avatar-img" data-lazy-src="/img/avatar.gif" onerror='onerror=null,src="/img/friend_404.gif"' alt="avatar"></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">10</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">标签</div><div class="length-num">3</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">分类</div><div class="length-num">1</div></a></div></div></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" target="_blank" rel="noopener" href="https://personal.kangkinga.tk"><i class="fa-fw fa-fw fa fa-universal-access"></i> <span>主页</span></a></div><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i> <span>Home</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i> <span>List</span><i class="fas fa-chevron-down expand hide"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fas fa-music"></i> <span>Music</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fas fa-video"></i> <span>Movie</span></a></li><li><a class="site-page" href="/photos/"><i class="fa-fw fa fa-fw fa-camera-retro"></i> <span>相册</span></a></li><li><a class="site-page" href="/bangumis/"><i class="fa-fw fa fa-sitemap"></i> <span>追番</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fa-fw fa fa-paper-plane"></i> <span>Talk</span><i class="fas fa-chevron-down expand hide"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/artitalk/"><i class="fa-fw fa fa-comments"></i> <span>说说</span></a></li><li><a class="site-page" href="/comments/"><i class="fa-fw fa-fw fas fa-comment-dots"></i> <span>留言板</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i> <span>Link</span></a></div><div class="menus_item"><a class="site-page" target="_blank" rel="noopener" href="https://alone.kangkinga.tk/mikutap/index.html"><i class="fa-fw fa-fw fab fa-studiovinari"></i> <span>Mikutap</span></a></div><div class="menus_item"><a class="site-page" target="_blank" rel="noopener" href="https://love.kangkinga.tk"><i class="fa-fw fas fa-heart"></i> <span>Love-show</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="not-index-bg" id="page-header" style="background:0 0"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Mr.Zhou</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i> <span>搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" target="_blank" rel="noopener" href="https://personal.kangkinga.tk"><i class="fa-fw fa-fw fa fa-universal-access"></i> <span>主页</span></a></div><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i> <span>Home</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i> <span>List</span><i class="fas fa-chevron-down expand hide"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fas fa-music"></i> <span>Music</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fas fa-video"></i> <span>Movie</span></a></li><li><a class="site-page" href="/photos/"><i class="fa-fw fa fa-fw fa-camera-retro"></i> <span>相册</span></a></li><li><a class="site-page" href="/bangumis/"><i class="fa-fw fa fa-sitemap"></i> <span>追番</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fa-fw fa fa-paper-plane"></i> <span>Talk</span><i class="fas fa-chevron-down expand hide"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/artitalk/"><i class="fa-fw fa fa-comments"></i> <span>说说</span></a></li><li><a class="site-page" href="/comments/"><i class="fa-fw fa-fw fas fa-comment-dots"></i> <span>留言板</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i> <span>Link</span></a></div><div class="menus_item"><a class="site-page" target="_blank" rel="noopener" href="https://alone.kangkinga.tk/mikutap/index.html"><i class="fa-fw fa-fw fab fa-studiovinari"></i> <span>Mikutap</span></a></div><div class="menus_item"><a class="site-page" target="_blank" rel="noopener" href="https://love.kangkinga.tk"><i class="fa-fw fas fa-heart"></i> <span>Love-show</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="page-site-info"><h1 id="site-title">源码修改记录</h1></div></header><main class="layout" id="content-inner"><div id="page"><div id="article-container"><h1>前言</h1><p>主题升级至最新版，相较于3.0版本去除了大量修改源码的部分，取而代之使用用户自定义<code>css</code>和<code>js</code>来进行美化，但是美化过程中仍有小部分内容需要修改源码。</p><blockquote><p>本文仅作记录，方便后期主题升级，并非有意搬运内容。</p></blockquote><h2 id="Valine-评论添加-博主，小伙伴，访客-标签"><a target="_blank" rel="noopener" href="https://akilar.top/posts/d2222705/">Valine 评论添加 [博主，小伙伴，访客] 标签</a></h2><ol><li>打开 <code>[Blogroot]\themes\butterfly\layout\includes\third-party\comments\valine.pug</code>, 按指示添加如下字段。</li></ol><figure class="highlight diff"><table><tr><td class="code"><pre><span class="line">      serverURLs: &#x27;#&#123;theme.valine.serverURLs&#125;&#x27;,</span><br><span class="line">      emojiCDN: &#x27;#&#123;theme.valine.emojiCDN&#125;&#x27;,</span><br><span class="line">      emojiMaps: !&#123;emojiMaps&#125;,</span><br><span class="line">      enableQQ: #&#123;theme.valine.enableQQ&#125;,</span><br><span class="line">      path: window.location.pathname,</span><br><span class="line"><span class="addition">+     master: &#x27;#&#123;theme.valine.master&#125;&#x27;.split(&#x27;,&#x27;),</span></span><br><span class="line"><span class="addition">+     friends: &#x27;#&#123;theme.valine.friends&#125;&#x27;.split(&#x27;,&#x27;),</span></span><br><span class="line"><span class="addition">+     tagMeta: &#x27;#&#123;theme.valine.tagMeta || &quot;博主,小伙伴,访客&quot;&#125;&#x27;.split(&#x27;,&#x27;)</span></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><ol start="2"><li>打开 <code>[Blogroot]\_config.butterfly.yml</code></li></ol><ul><li>在 valine 配置项添加如下内容</li></ul><figure class="highlight diff"><table><tr><td class="code"><pre><span class="line">valine:</span><br><span class="line">  appId:  # leancloud application app id</span><br><span class="line">  appKey: # leancloud application app key</span><br><span class="line"><span class="addition">+ master: # md5加密后的博主邮箱</span></span><br><span class="line"><span class="addition">+    - d4e7????4d361ad7????44a14e9e2a94  #可添加多个</span></span><br><span class="line"><span class="addition">+ friends: # md5加密后的小伙伴邮箱</span></span><br><span class="line"><span class="addition">+    - 5c?????bfe6rfc72a????e268ad3819c #可添加多个</span></span><br><span class="line"><span class="addition">+    - 7c?????bfe65fc02a????e2????3919c</span></span><br><span class="line"><span class="addition">+ tagMeta: &#x27;博主,小伙伴,访客&#x27; # 标签要显示的文字,默认&#x27;博主,小伙伴,访客&#x27;</span></span><br><span class="line">  pageSize: 10 # comment list page size</span><br><span class="line">  avatar: monsterid # gravatar style https://valine.js.org/#/avatar</span><br><span class="line">  lang: zh-CN # i18n: zh-CN/zh-TW/en/ja</span><br><span class="line">  placeholder:  # valine comment input placeholder (like: Please leave your footprints)</span><br><span class="line">  guest_info: nick,mail,link # valine comment header info (nick/mail/link)</span><br><span class="line">  recordIP: false # Record reviewer IP</span><br><span class="line">  serverURLs: # This configuration is suitable for domestic custom domain name users, overseas version will be automatically detected (no need to manually fill in)</span><br><span class="line">  bg: # valine background</span><br><span class="line">  emojiCDN: # emoji CDN</span><br><span class="line">  enableQQ: true # enable the Nickname box to automatically get QQ Nickname and QQ Avatar</span><br><span class="line">  requiredFields: nick,mail # required fields (nick/mail)</span><br><span class="line">  option:</span><br></pre></td></tr></table></figure><ol start="3"><li>在 CDN 配置项添加如下内容。将 Valine.min.js 替换成 HCLonely 魔改的版本</li></ol><figure class="highlight diff"><table><tr><td class="code"><pre><span class="line">    CDN:</span><br><span class="line">      # main</span><br><span class="line">      main_css: /css/index.css</span><br><span class="line">      jquery: https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js</span><br><span class="line">      main: /js/main.js</span><br><span class="line">      utils: /js/utils.js</span><br><span class="line">      # pjax</span><br><span class="line">      pjax: https://cdn.jsdelivr.net/npm/pjax/pjax.min.js</span><br><span class="line">      # comments</span><br><span class="line">      gitalk: https://cdn.jsdelivr.net/npm/gitalk@latest/dist/gitalk.min.js</span><br><span class="line">      gitalk_css: https://cdn.jsdelivr.net/npm/gitalk/dist/gitalk.min.css</span><br><span class="line"><span class="deletion">-     valine: https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js</span></span><br><span class="line"><span class="addition">+     valine: https://cdn.jsdelivr.net/gh/HCLonely/Valine@latest/dist/Valine.min.js</span></span><br></pre></td></tr></table></figure><h2 id="给博客添加B站同款动态banner"><a target="_blank" rel="noopener" href="https://akilar.top/posts/780a2cea/">给博客添加B站同款动态banner</a></h2><ol><li>新建 <code>[Blogroot]\themes\butterfly\layout\includes\header\bilibili-banner.pug</code></li></ol><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (!is_home())</span><br><span class="line">  - var banner_style = (typeof(page.bilibili_banner) != &quot;undefined&quot; &amp;&amp; page.bilibili_banner!=null) ? page.bilibili_banner : theme.bilibili_banner.style</span><br><span class="line">  <span class="keyword">if</span> (banner_style === <span class="string">&#x27;autumn&#x27;</span>)</span><br><span class="line">    <span class="comment">#autumnBanner</span></span><br><span class="line">      div</span><br><span class="line">        img(src=<span class="string">&#x27;/bilibiliBanner/autumn/bilibili-autumn-1.png&#x27;</span>)</span><br><span class="line">      div</span><br><span class="line">        img(src=<span class="string">&#x27;/bilibiliBanner/autumn/bilibili-autumn-2.png&#x27;</span>)</span><br><span class="line">      div</span><br><span class="line">        img(src=<span class="string">&#x27;/bilibiliBanner/autumn/bilibili-autumn-3.png&#x27;</span>)</span><br><span class="line">      div</span><br><span class="line">        img(src=<span class="string">&#x27;/bilibiliBanner/autumn/bilibili-autumn-4.png&#x27;</span>)</span><br><span class="line">      div</span><br><span class="line">        img(src=<span class="string">&#x27;/bilibiliBanner/autumn/bilibili-autumn-5.png&#x27;</span>)</span><br><span class="line">      div</span><br><span class="line">        img(src=<span class="string">&#x27;/bilibiliBanner/autumn/bilibili-autumn-6.png&#x27;</span>)</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span> (banner_style === <span class="string">&#x27;winter&#x27;</span>)</span><br><span class="line">    <span class="comment">#winterBanner</span></span><br><span class="line">      .view</span><br><span class="line">        img.morning(src=<span class="string">&#x27;/bilibiliBanner/winter/bilibili-winter-view-1.png&#x27;</span> alt=<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">        img.afternoon(src=<span class="string">&#x27;/bilibiliBanner/winter/bilibili-winter-view-2.png&#x27;</span> alt=<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">        video.evening(autoplay=<span class="string">&#x27;&#x27;</span> loop=<span class="string">&#x27;&#x27;</span> muted=<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">          source(src=<span class="string">&#x27;/bilibiliBanner/winter/bilibili-winter-view-3.webm&#x27;</span> <span class="built_in">type</span>=<span class="string">&#x27;video/webm&#x27;</span>)</span><br><span class="line">        img.window-cover(src=<span class="string">&#x27;/bilibiliBanner/winter/bilibili-winter-view-3-snow.png&#x27;</span> alt=<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">      .tree</span><br><span class="line">        img.morning(src=<span class="string">&#x27;/bilibiliBanner/winter/bilibili-winter-tree-1.png&#x27;</span> alt=<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">        img.afternoon(src=<span class="string">&#x27;/bilibiliBanner/winter/bilibili-winter-tree-2.png&#x27;</span> alt=<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">        img.evening(src=<span class="string">&#x27;/bilibiliBanner/winter/bilibili-winter-tree-3.png&#x27;</span> alt=<span class="string">&#x27;&#x27;</span>)        </span><br><span class="line">  script(<span class="keyword">async</span> data-pjax src=url_for(theme.CDN.bilibili_banner))</span><br></pre></td></tr></table></figure><p>2.新建 <code>[Blogroot]\themes\butterfly\source\css\bilibiliBanner.css</code></p><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* autumnBanner */</span></span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">max-width:</span> <span class="number">1000px</span>) &#123;</span><br><span class="line">  <span class="selector-id">#autumnBanner</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: none <span class="meta">!important</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#autumnBanner</span> &#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">overflow</span>: hidden;</span><br><span class="line">  <span class="attribute">filter</span>: <span class="built_in">brightness</span>(<span class="number">70%</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#autumnBanner</span> &gt; <span class="selector-tag">div</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">justify-content</span>: center;</span><br><span class="line">  <span class="attribute">align-items</span>: center;</span><br><span class="line"></span><br><span class="line">  <span class="attribute">--offset</span>: <span class="number">0px</span>;</span><br><span class="line">  <span class="attribute">--blur</span>: <span class="number">2px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#autumnBanner</span> &gt; <span class="selector-tag">div</span> &gt; <span class="selector-tag">img</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">110%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">object-fit</span>: cover;</span><br><span class="line"></span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translatex</span>(var(--offset));</span><br><span class="line">  <span class="attribute">filter</span>: <span class="built_in">blur</span>(var(--blur));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* winterBanner */</span></span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">max-width:</span> <span class="number">1000px</span>) &#123;</span><br><span class="line">  <span class="selector-id">#winterBanner</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: none <span class="meta">!important</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#winterBanner</span> &#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">overflow</span>: hidden;</span><br><span class="line">  <span class="attribute">--percentage</span>: <span class="number">0.5</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#winterBanner</span> <span class="selector-class">.view</span>, <span class="selector-id">#winterBanner</span> <span class="selector-class">.tree</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">right</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">bottom</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">justify-content</span>: center;</span><br><span class="line">  <span class="attribute">align-items</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#winterBanner</span> <span class="selector-tag">img</span>, <span class="selector-id">#winterBanner</span> <span class="selector-tag">video</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">  <span class="attribute">max-width</span>: <span class="number">120%</span> <span class="meta">!important</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">120%</span> <span class="meta">!important</span>;</span><br><span class="line">  ;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">object-fit</span>: cover;</span><br><span class="line">  <span class="attribute">filter</span>: <span class="built_in">brightness</span>(<span class="number">70%</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#winterBanner</span> <span class="selector-class">.morning</span> &#123;</span><br><span class="line">  <span class="attribute">z-index</span>: <span class="number">20</span>;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="built_in">calc</span>(<span class="number">1</span> - (var(--percentage) - <span class="number">0.25</span>) / <span class="number">0.25</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#winterBanner</span> <span class="selector-class">.afternoon</span> &#123;</span><br><span class="line">  <span class="attribute">z-index</span>: <span class="number">10</span>;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="built_in">calc</span>(<span class="number">1</span> - (var(--percentage) - <span class="number">0.5</span>) / <span class="number">0.5</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#winterBanner</span> <span class="selector-class">.view</span> &#123;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translatex</span>(calc(var(--percentage) * <span class="number">100px</span>));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#winterBanner</span> <span class="selector-class">.tree</span> &#123;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translatex</span>(calc(var(--percentage) * <span class="number">50px</span>));</span><br><span class="line">  <span class="attribute">filter</span>: <span class="built_in">blur</span>(<span class="number">3px</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#winterBanner</span> <span class="selector-class">.view</span>,</span><br><span class="line"><span class="selector-id">#winterBanner</span> <span class="selector-class">.tree</span>,</span><br><span class="line"><span class="selector-id">#winterBanner</span> <span class="selector-class">.morning</span>,</span><br><span class="line"><span class="selector-id">#winterBanner</span> <span class="selector-class">.afternoon</span> &#123;</span><br><span class="line">  <span class="attribute">transition</span>: .<span class="number">2s</span> all ease-in;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#winterBanner</span><span class="selector-class">.moving</span> <span class="selector-class">.view</span>,</span><br><span class="line"><span class="selector-id">#winterBanner</span><span class="selector-class">.moving</span> <span class="selector-class">.tree</span>,</span><br><span class="line"><span class="selector-id">#winterBanner</span><span class="selector-class">.moving</span> <span class="selector-class">.morning</span>,</span><br><span class="line"><span class="selector-id">#winterBanner</span><span class="selector-class">.moving</span> <span class="selector-class">.afternoon</span> &#123;</span><br><span class="line">  <span class="attribute">transition</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#winterBanner</span> <span class="selector-class">.window-cover</span> &#123;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="built_in">calc</span>((var(--percentage) - <span class="number">0.9</span>) / <span class="number">0.1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="3"><li><code>新建 [Blogroot]\themes\butterfly\source\js\bilibili-banner.js</code></li></ol><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//autumn_banner</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> autumnBanner = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;#autumnBanner&#x27;</span>)</span><br><span class="line"><span class="keyword">if</span> (autumnBanner) &#123;</span><br><span class="line">  <span class="keyword">var</span> images = <span class="built_in">document</span>.querySelectorAll(<span class="string">&#x27;#autumnBanner &gt; div &gt; img&#x27;</span>)</span><br><span class="line">  autumnBanner.addEventListener(<span class="string">&#x27;mousemove&#x27;</span>, <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> percentage = e.clientX / <span class="built_in">window</span>.outerWidth</span><br><span class="line">    <span class="keyword">let</span> offset = <span class="number">10</span> * percentage</span><br><span class="line">    <span class="keyword">let</span> blur = <span class="number">20</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> [index, image] <span class="keyword">of</span> images.entries()) &#123;</span><br><span class="line">      offset *= <span class="number">1.3</span></span><br><span class="line"></span><br><span class="line">      <span class="keyword">let</span> blurValue = (<span class="built_in">Math</span>.pow((index / images.length - percentage), <span class="number">2</span>) * blur)</span><br><span class="line"></span><br><span class="line">      image.style.setProperty(<span class="string">&#x27;--offset&#x27;</span>, <span class="string">`<span class="subst">$&#123;offset&#125;</span>px`</span>)</span><br><span class="line">      image.style.setProperty(<span class="string">&#x27;--blur&#x27;</span>, <span class="string">`<span class="subst">$&#123;blurValue&#125;</span>px`</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//winter_banner</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> winterBanner = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;#winterBanner&#x27;</span>)</span><br><span class="line"><span class="keyword">if</span> (winterBanner) &#123;</span><br><span class="line">  <span class="keyword">var</span> startingPoint</span><br><span class="line">  winterBanner.addEventListener(<span class="string">&#x27;mouseenter&#x27;</span>, <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line">    startingPoint = e.clientX</span><br><span class="line">    winterBanner.classList.add(<span class="string">&#x27;moving&#x27;</span>)</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  winterBanner.addEventListener(<span class="string">&#x27;mouseout&#x27;</span>, <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line">    winterBanner.classList.remove(<span class="string">&#x27;moving&#x27;</span>)</span><br><span class="line">    winterBanner.style.setProperty(<span class="string">&#x27;--percentage&#x27;</span>, <span class="number">0.5</span>)</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  winterBanner.addEventListener(<span class="string">&#x27;mousemove&#x27;</span>, <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> percentage = (e.clientX - startingPoint) / <span class="built_in">window</span>.outerWidth + <span class="number">0.5</span></span><br><span class="line"></span><br><span class="line">    winterBanner.style.setProperty(<span class="string">&#x27;--percentage&#x27;</span>, percentage)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="4"><li>将静态资源文件夹内的 bilibiliBanner 图片文件夹放到 <code>[Blogroot]\themes\butterfly\source\ 目录下。</code></li></ol><div class="btns rounded grid5"><a class="button" target="_blank" rel="noopener" href="https://vip.d0.baidupan.com/file/?UzVXaV5vUmMCCwQ8ATQGagA/ADhfYgtgVT5WOVZoVj5SPgc5WlgANlFmBDwEPlYyAytQe1ZzAmkHcFt7BjxQOFM/V2VeXFJvAjAEbwFmBjEAaQAyXzQLPFVqVmFWLFYxUiEHbVo2AGBRMQRgBGJWYwNrUHNWeQJwBz1bbwZqUGNTYlcvXjNSNwJ7BGABZQYoAD8AM18wC2xVYFZmVj9WblJnB2haZQBsUTMEagRmVm8DblBjVj4COQdmW2gGalBhU2ZXMF40UmMCZQQ2AWYGNwB0AH9faQt5VXRWJVZ5VjJSIAc5WmMAaVE2BGcEaFZkA2FQYFY+AiYHdFs0BjdQNFM1Vz1eMlIwAmUEYwFiBjUAbAAzXzcLPFV8Vn5WLFYxUj4HJ1o6AGVRMQRjBGFWYANrUGFWOAIxBzBbewYvUCFTJFc9XjJSMAJlBGMBZAYyAGkAN183CzBVdFYlVmNWJ1JvB2FaKQBsUTMEfARnVnkDbFBj" title="下载源码"><i class="fas fa-download"></i> 下载源码</a><a class="button" target="_blank" rel="noopener" href="https://teambition.kangkinga.tk/download/eae8cf69181695a0103e3d2db81def69" title="下载源码"><i class="fas fa-download"></i> 下载源码</a></div><ol start="5"><li>修改 <code>[Blogroot]\themes\butterfly\layout\includes\header\index.pug</code>, 注入 <code>bilibili_banner</code> 组件</li></ol><figure class="highlight diff"><table><tr><td class="code"><pre><span class="line">  header#page-header(class=isHomeClass style=bg_img)</span><br><span class="line">    include ./nav.pug</span><br><span class="line"><span class="addition">+   if top_img !== false</span></span><br><span class="line"><span class="addition">+     - var bilibili_banner = (typeof(page.bilibili_banner) != &quot;undefined&quot; &amp;&amp; page.bilibili_banner!=null) ? page.bilibili_banner : theme.bilibili_banner.enable</span></span><br><span class="line"><span class="addition">+     if (bilibili_banner)</span></span><br><span class="line"><span class="addition">+       include ./bilibili-banner.pug</span></span><br><span class="line">      if is_post()</span><br><span class="line">        include ./post-info.pug</span><br><span class="line">      else if is_home()</span><br></pre></td></tr></table></figure><ol start="6"><li>在站点配置文件中添加配置项，打开 <code>[Blogroot]\_config.butterfly.yml</code></li></ol><ul><li>添加 CDN 配置项</li></ul><figure class="highlight diff"><table><tr><td class="code"><pre><span class="line">  CDN:</span><br><span class="line">    # main</span><br><span class="line">    main_css: /css/index.css</span><br><span class="line">    jquery: https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js</span><br><span class="line">    main: /js/main.js</span><br><span class="line">    utils: /js/utils.js</span><br><span class="line"><span class="addition">+   bilibili_banner: /js/bilibili-banner.js</span></span><br></pre></td></tr></table></figure><ul><li>添加 <code>css</code> 配置项。此处使用了异步加载，同时做了媒体选择，对手机是不会生效的。因为手机的 <code>banner</code> 高度会导致适配效果很差。</li></ul><figure class="highlight diff"><table><tr><td class="code"><pre><span class="line">inject:</span><br><span class="line">  head:</span><br><span class="line">    - &lt;link rel=&quot;stylesheet&quot; href=&quot;/css/bilibiliBanner.css&quot;  media=&quot;defer&quot; onload=&quot;this.media=&#x27;screen&#x27;&quot;&gt;</span><br><span class="line">  bottom:</span><br></pre></td></tr></table></figure><ul><li>添加 <code>bilibili_banner</code> 控制开关</li></ul><figure class="highlight diff"><table><tr><td class="code"><pre><span class="line"># banner样式</span><br><span class="line">bilibili_banner:</span><br><span class="line">  enable: false # 开关banner</span><br><span class="line">  style: winter  # autumn 秋季样式 ；winter 冬季样式</span><br></pre></td></tr></table></figure><ol start="7"><li>除了在主题配置文件通过配置 <code>bilibili_banner:</code> 的默认项，还可以在每个页面的<code>markdown</code>文件中通过 <code>front-matter</code> 控制单页配置。提供了三个选项：</li></ol><ul><li><code>false</code>：<kbd>关闭</kbd>该页面的动态 <code>banner</code> 显示</li><li><code>autumn</code>：<kbd>开启</kbd>该页面的动态 <code>banner</code> 显示，并设置主题为秋季</li><li><code>winter</code>：<kbd>开启</kbd>该页面的动态 <code>banner</code> 显示，并设置主题为冬季<br>页面配置项优先级高于主题配置项。</li><li>示例</li></ul><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: 给博客添加B站同款动态banner</span><br><span class="line">date: 2021-01-20 21:54:35</span><br><span class="line">bilibili<span class="emphasis">_banner: autumn</span></span><br><span class="line"><span class="emphasis">---</span></span><br></pre></td></tr></table></figure><h2 id="基于Butterfly的外挂标签引入"><a target="_blank" rel="noopener" href="https://akilar.top/posts/615e2dec/">基于Butterfly的外挂标签引入</a></h2><ol><li>下载资源文件</li></ol><div class="btns rounded grid5"><a class="button" target="_blank" rel="noopener" href="https://vip.d0.baidupan.com/file/?CW8APl1sDj8HDlBoVmMAbAM8DjZTWFEyVzdWD1BcBGkAdVdnXGhTaQksU1pUdgY2Wi4AMFIjC3MCbFosXCZWMQlgADtdZQ4FBzhQYlY/ADIDbA46UzhRZ1djVmBQOAQjAGZXc1w8UzEJZ1MyVDkGPlomAHVSfQs0AjdabFwyVmcJJgBmXTIOdQdiUDdWLQBlAz8OOVM/UWBXMlY0UD4EMABjV2ZcMVNiCTxTMFRkBjRaYQA2UjsLagJmWmpcZFZuCToAb11kDm4HNVA1VjEALwMjDmJTfFF1VyVWI1BpBHcAaVdkXDxTNglqUz1UMwY/WjUAMlIrC30CbFoxXGVWMQk0AGZdNg5rB2BQMVYwADcDbA4/UzpRfVd+VnZQagRpAHdXPVwwUzEJblM0VDcGNVo1ADZSNAs7AiNaKVxwViAJNABmXTYOagdoUDJWMgAzA24OOVM+UXVXJVY5UHwEOAAxVy5cOVMzCXFTMlQuBjJaNg==" title="下载源码"><i class="fas fa-download"></i> 下载源码</a><a class="button" target="_blank" rel="noopener" href="https://teambition.kangkinga.tk/download/3d515fe330ca406903b47c36795b9844" title="下载源码"><i class="fas fa-download"></i> 下载源码</a></div><ol start="2"><li>将下载的 <code>Tag_Plugins.zip</code> 解压得到 <code>butterfly</code> 文件夹。</li><li>将 <code>butterfly</code> 文件夹复制到 <code>[Blogroot]\themes\</code> 目录下，覆盖当前的 <code>butterfly</code> 主题文件夹，提示重复则选择替换。(如果担心覆盖自己的其他魔改内容，可以根据静态文件内容自主比对修改)</li><li>修改 <code>[Blogroot]\_config.butterfly.yml</code> 的 <code>inject</code> 配置项，添加 CDN 依赖项。由于 <code>issues</code> 写入 <code>timeline</code> 和<code>site-card</code> 标签要用到<code>jquery</code>，请务必根据注释指示的版本决定是否添加。</li></ol><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">inject:</span></span><br><span class="line">  <span class="attr">head:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;link</span> <span class="string">rel=&quot;stylesheet&quot;</span> <span class="string">href=&quot;https://cdn.jsdelivr.net/gh/l-lin/font-awesome-animation/dist/font-awesome-animation.min.css&quot;</span>  <span class="string">media=&quot;defer&quot;</span> <span class="string">onload=&quot;this.media=&#x27;all&#x27;&quot;&gt;</span>  <span class="comment">#动画标签anima的依赖</span></span><br><span class="line">  <span class="attr">bottom:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">defer</span> <span class="string">src=&quot;https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js&quot;&gt;&lt;/script&gt;</span></span><br><span class="line">    <span class="comment"># 自butterfly_v3.4.0+开始，主题基本实现去jquery化，需要自己添加引用，请读者根据版本自行决定是否添加这行引用。</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">defer</span> <span class="string">src=&quot;https://cdn.jsdelivr.net/npm/hexo-theme-volantis@latest/source/js/issues.min.js&quot;&gt;&lt;/script&gt;</span></span><br><span class="line">    <span class="comment">#数据集合标签issues的依赖</span></span><br></pre></td></tr></table></figure><ol start="5"><li>外挂标签使用方案请<a target="_blank" rel="noopener" href="https://akilar.top/posts/615e2dec/">参阅下文</a></li></ol><h2 id="Pixiv-日榜"><a target="_blank" rel="noopener" href="https://blog.hclonely.com/posts/57bd67ce/#Pixiv%E6%97%A5%E6%A6%9C">Pixiv 日榜</a></h2><ol><li>在<code>themes\Butterfly\layout\includes\widget</code>文件夹新建<code>card_pixiv.pug</code>文件，文件内容如下</li></ol><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">.card-widget.card-pixiv</span><br><span class="line">  .card-content</span><br><span class="line">    .item-headline</span><br><span class="line">      i.fa.fa-image(aria-hidden&#x3D;&quot;true&quot;)</span><br><span class="line">      span&#x3D; _p(&#39;aside.card_pixiv&#39;)</span><br><span class="line">    iframe(src&#x3D;&quot;https:&#x2F;&#x2F;cloud.mokeyjay.com&#x2F;pixiv&quot; frameborder&#x3D;&quot;0&quot; style&#x3D;&quot;width:99%;height:380px;margin:0;&quot;)</span><br></pre></td></tr></table></figure><ol start="2"><li>编辑<code>themes\Butterfly\layout\includes\widget\index.pug</code>文件，在你想要显示的位置插入以下代码：</li></ol><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">if theme.aside.card_pixiv</span><br><span class="line">  include .&#x2F;card_pixiv.pug</span><br></pre></td></tr></table></figure><ol start="3"><li>编辑<code>butterfly.yml</code>文件，在<code>card_webinfo</code>下面添加一行<code>card_pixiv: true</code></li><li>编辑<code>themes\Butterfly\languages\zh-CN.yml</code>文件(请根据你的网站语言选择)，找到<code>card_announcement:</code> 公告, 在下面添加一行<code>card_pixiv: Pixiv日榜Top50</code>(后面的文本可自定义)</li><li>如果不想显示，直接把<code>butterfly.yml文</code>件的<code>card_pixiv: true</code>改为<code>card_pixiv: false</code>即可</li></ol></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-info-avatar is-center"><img class="avatar-img" data-lazy-src="/img/avatar.gif" onerror='this.onerror=null,this.src="/img/friend_404.gif"' alt="avatar"><div class="author-info__name">Mr.Zhou</div><div class="author-info__description">己所不欲，勿施于人</div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">10</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">标签</div><div class="length-num">3</div></a></div><div class="card-info-data-item is-center"><a href="/categories/"><div class="headline">分类</div><div class="length-num">1</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/a2603802339"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/a2603802339" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:a2603802339@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a><a class="social-icon" href="http://wpa.qq.com/msgrd?v=3&amp;uin=2603802339&amp;site=qq&amp;menu=yes" target="_blank" title="QQ"><i class="fab fa-qq"></i></a><a class="social-icon" href="https://space.bilibili.com/279030939" target="_blank" title="Bilibili"><i class="iconfont iconbilibili1 card_icon"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>公告</span></div><div class="announcement_content">欢迎大家留言 ，评论</div></div><div class="sticky_layout"><div class="card-widget card-pixiv"><div class="card-content"><div class="item-headline"><i class="fa fa-image" aria-hidden="true"></i><span>Pixiv日榜Top50</span></div><iframe src="https://cloud.mokeyjay.com/pixiv" frameborder="0" style="width:99%;height:380px;margin:0"></iframe></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2022 By Mr.Zhou</div><div class="framework-info"><span>框架</span> <a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题</span> <a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text"><p><a target="_blank" href="https://hexo.io/"><img src="https://img.shields.io/badge/Frame-Hexo-blue?style=flat&logo=hexo" title="博客框架为Hexo"></a>&nbsp;<a target="_blank" href="https://demo.jerryc.me/"><img src="https://img.shields.io/badge/Theme-Butterfly-6513df?style=flat&logo=bitdefender" title="主题采用butterfly"></a>&nbsp;<a target="_blank" href="https://metroui.org.ua/index.html"><img src="https://img.shields.io/badge/CDN-jsDelivr-orange?style=flat&logo=jsDelivr" title="本站使用JsDelivr为静态资源提供CDN加速"></a>&nbsp;<a style="margin-inline:5px" target="_blank" href="https://vercel.com/"><img src="https://img.shields.io/badge/Hosted-Vervel-brightgreen?style=flat&logo=Vercel" title="本站采用双线部署，默认线路托管于Vercel"></a>&nbsp;<a target="_blank" href="https://github.com/"><img src="https://img.shields.io/badge/Source-Github-d021d6?style=flat&logo=GitHub" title="本站项目由Gtihub托管"></a>&nbsp;<a target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img src="https://img.shields.io/badge/Copyright-BY--NC--SA%204.0-d42328?style=flat&logo=Claris" title="本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可"></a></p></div><div id="running-time"><script>setInterval(()=>{let e=Math.round(new Date("2020-05-19 00:00:00").getTime()/1e3),t=Math.round(((new Date).getTime()+288e5)/1e3)-e,n=new Array(0,0,0,0,0);t>=31536e3&&(n[0]=parseInt(t/31536e3),t%=31536e3),t>=86400&&(n[1]=parseInt(t/86400),t%=86400),t>=3600&&(n[2]=parseInt(t/3600),t%=3600),t>=60&&(n[3]=parseInt(t/60),t%=60),t>0&&(n[4]=t),currentTimeHtml="本站已安全运行 "+n[0]+" 年 "+n[1]+" 天 "+n[2]+" 时 "+n[3]+" 分 "+n[4]+" 秒",document.getElementById("running-time").innerHTML=currentTimeHtml},1e3)</script></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="font-plus" type="button" title="放大字体"><i class="fas fa-plus"></i></button><button id="font-minus" type="button" title="缩小字体"><i class="fas fa-minus"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><a class="icon-V hidden" onclick="switchNightMode()" title="浅色和深色模式转换"><svg width="25" height="25" viewBox="0 0 1024 1024"><use id="modeicon" xlink:href="#icon-moon"></use></svg></a><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button id="chat_btn" type="button" title="rightside.chat_btn"><i class="fas fa-sms"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"></div></div></div><hr><div id="local-search-results"></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div></div><div><script src="https://cdn.jsdelivr.net/npm/vue@2.6.11"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/medium-zoom/dist/medium-zoom.min.js"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script>function panguFn(){"object"==typeof pangu?pangu.spacingElementById("content-inner"):getScript("https://cdn.jsdelivr.net/npm/pangu/dist/browser/pangu.min.js").then(()=>{pangu.spacingElementById("content-inner")})}function panguInit(){panguFn()}document.addEventListener("DOMContentLoaded",panguInit)</script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>document.getElementsByClassName("mermaid").length&&(window.mermaidJsLoad?mermaid.init():getScript("https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js").then(()=>{window.mermaidJsLoad=!0,mermaid.initialize({theme:"forest"}),mermaid.init()}))</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><script defer src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script defer src="https://cdn.jsdelivr.net/npm/hexo-theme-volantis@latest/source/js/issues.min.js"></script><script defer src="https://cdn.jsdelivr.net/npm/akilar-live2d-widget/autoload.min.js"></script><script async src="/js/diytitle.js"></script><script defer src="https://cdn.jsdelivr.net/gh/Jnylife/CDN@1.3/js/fish.js"></script><canvas id="universe"></canvas><script defer src="/js/universe.js"></script><script src="/js/sun_moon.js" async></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful=!0,POWERMODE.shake=!1,POWERMODE.mobile=!1,document.body.addEventListener("input",POWERMODE)</script><script id="click-show-text" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/click-show-text.min.js" data-mobile="false" data-text="I,LOVE,YOU" data-fontsize="15px" data-random="false" async></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css" media="print" onload='this.media="all"'><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/gh/metowolf/MetingJS@1.2/dist/Meting.min.js"></script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>let pjaxSelectors=["title","#config_change","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"];var pjax=new Pjax({elements:'a:not([target="_blank"]):not([href="artitalk"])',selectors:pjaxSelectors,cacheBust:!1,analytics:!1,scrollRestoration:!1});document.addEventListener("pjax:complete",(function(){window.refreshFn(),document.querySelectorAll("script[data-pjax]").forEach(e=>{const t=document.createElement("script"),n=e.text||e.textContent||e.innerHTML||"";Array.from(e.attributes).forEach(e=>t.setAttribute(e.name,e.value)),t.appendChild(document.createTextNode(n)),e.parentNode.replaceChild(t,e)}),GLOBAL_CONFIG.islazyload&&window.lazyLoadInstance.update(),"function"==typeof chatBtnFn&&chatBtnFn(),"function"==typeof panguInit&&panguInit(),"function"==typeof gtag&&gtag("config","",{page_path:window.location.pathname}),"function"==typeof loadMeting&&document.getElementsByClassName("aplayer").length&&loadMeting(),"object"==typeof Prism&&Prism.highlightAll(),"object"==typeof preloader&&preloader.endLoading()})),document.addEventListener("pjax:send",(function(){if("object"==typeof preloader&&preloader.initLoading(),window.aplayers)for(let e=0;e<window.aplayers.length;e++)window.aplayers[e].options.fixed||window.aplayers[e].destroy();"object"==typeof typed&&typed.destroy();const e=document.body.classList;e.contains("read-mode")&&e.remove("read-mode")}))</script></div><script src="https://myhkw.cn/api/player/159336591778" id="myhk" key="159336591778"></script><script data-pjax>function butterfly_clock_injector_config(){var c=document.getElementsByClassName("sticky_layout")[0];console.log("已挂载butterfly_clock"),c.insertAdjacentHTML("afterbegin",'<div class="card-widget card-clock"><div class="card-glass"><div class="card-background"><div class="card-content"><div id="hexo_electric_clock"><img class="entered loading" id="card-clock-loading" src="/img/loading.gif" style="height: 120px; width: 100%;" data-ll-status="loading"/></div></div></div></div></div>')}document.getElementsByClassName("sticky_layout")[0]&&(location.pathname,1)&&butterfly_clock_injector_config()</script><script src="https://pv.sohu.com/cityjson?ie=utf-8"></script><script data-pjax src="https://cdn.jsdelivr.net/npm/hexo-butterfly-clock/lib/clock.min.js"></script><script async src="//at.alicdn.com/t/font_2032782_8d5kxvn09md.js"></script></body></html>